
    <html>
    <head>
    <meta charset="UTF-8">
    <style>
      .tok {
        padding:4px 6px;
        margin:2px;
        border-radius:4px;
        display:inline-block;
        font-family:monospace;
        background:#eee;
        cursor:pointer;
        transition: background 0.15s;
      }
    </style>
    </head>
    <body>
      <h2>Interactive Attention Visualization for Multiple Models</h2>
      
        <h3 style='margin-top:30px;'>Model: LSTM</h3>
        <div><b>Input:</b> <span id="in-lstm"></span></div><br>
        <div><b>Output:</b> <span id="out-lstm"></span></div>
        <script>
          const data_lstm = {"input": ["<sos>", "s", "i", "t", "a", "r", "a", "m", "a", "y", "y", "a", "<eos>"], "output": ["స", "ి", "త", "ా", "ర", "ా", "మ", "య", "్", "య", "య", "<eos>"], "attentions": [[0.2061588019132614, 0.1498946249485016, 0.6167385578155518, 0.021718038246035576, 0.0027827415615320206, 0.0012601236812770367, 0.0002578704443294555, 0.00034935949952341616, 0.00022359432477969676, 0.00021561711037065834, 0.00016809100634418428, 0.00010977223428199068, 0.0001228413311764598], [0.006127114407718182, 0.0010109590366482735, 0.31638649106025696, 0.6709998250007629, 0.003468558192253113, 0.0017969331238418818, 4.029076808365062e-05, 7.786895730532706e-05, 3.643134914455004e-05, 2.6856594558921643e-05, 1.4592404113500379e-05, 7.431579888361739e-06, 6.721368663420435e-06], [0.004608373157680035, 0.000533173093572259, 0.0050840056501328945, 0.6961197257041931, 0.20101815462112427, 0.08681540936231613, 0.002482136245816946, 0.0018684471724554896, 0.000712285574991256, 0.0003627653350122273, 0.00015599427570123225, 0.00012664598762057722, 0.00011289486428722739], [0.0007425170042552054, 4.517881461651996e-05, 0.0037608284037560225, 0.12104064226150513, 0.4093838334083557, 0.4328427314758301, 0.007682940922677517, 0.013926716521382332, 0.003750785021111369, 0.0038264773320406675, 0.001268297666683793, 0.0007358265575021505, 0.0009932090761139989], [1.4705011608384666e-07, 1.7490242143480828e-08, 4.962434907440638e-09, 0.0006208451231941581, 0.03187834471464157, 0.37470725178718567, 0.18775597214698792, 0.28130996227264404, 0.07838217914104462, 0.04032829776406288, 0.003582591190934181, 0.0006174959125928581, 0.0008168314816430211], [2.7364147059394384e-10, 5.5950848121266716e-11, 2.5364454460385932e-12, 3.1806937528244816e-08, 0.00022653421910945326, 0.2568660378456116, 0.1596311330795288, 0.3156650960445404, 0.13534805178642273, 0.11579912900924683, 0.013459780253469944, 0.0016093130689114332, 0.001394835184328258], [8.037618059226714e-17, 9.478037952446544e-17, 3.6204481110306793e-17, 1.0534423810701354e-12, 3.293322237141183e-08, 0.00028452122933231294, 0.0030095612164586782, 0.05832158774137497, 0.12115705758333206, 0.7350962162017822, 0.07730719447135925, 0.002495318651199341, 0.0023284226190298796], [5.8155222478755004e-18, 2.1472202494835258e-17, 1.1641008920204968e-18, 5.4377990554421024e-15, 6.987508488487393e-11, 8.11049721960444e-06, 0.0007957351626828313, 0.01800631172955036, 0.0942583754658699, 0.7094225287437439, 0.16703005135059357, 0.004759109579026699, 0.005719815846532583], [5.955198932135439e-20, 1.1395397799834777e-19, 3.2304590150493474e-19, 1.4414930773465566e-17, 2.2129681035787732e-14, 1.2889882494704352e-09, 4.675945547205629e-06, 3.300219032098539e-05, 0.0038478821516036987, 0.05556107684969902, 0.7740734815597534, 0.08764022588729858, 0.07883968949317932], [1.2860880086882591e-19, 1.887873924288863e-19, 4.045100138202742e-18, 2.1848354606587622e-16, 3.499147315216139e-14, 2.4620847027811976e-10, 1.887442664383343e-07, 1.1800793799920939e-06, 8.988536865217611e-05, 0.0013156385393813252, 0.35061585903167725, 0.23795004189014435, 0.4100272059440613], [3.1990817279697383e-19, 3.9258219346435146e-19, 1.0347662401641556e-18, 2.041257420398748e-17, 1.525755683328843e-16, 3.676831449440747e-14, 3.4788478521508015e-12, 8.773879539569762e-11, 5.561184845959133e-09, 4.815352667719708e-07, 8.663800690555945e-05, 0.023303890600800514, 0.97660893201828], [1.42703793070607e-18, 1.4830527406317827e-18, 9.096452256686442e-18, 2.3776471586290347e-16, 1.7833944973458075e-14, 4.100055527294505e-13, 4.800473213384393e-11, 2.357208594983007e-10, 4.2235726027683995e-08, 2.4326052425749367e-06, 0.0007042098441161215, 0.01221700944006443, 0.9870763421058655]]};
          const threshold_lstm = 0.15;

          const shownInputs_lstm = data_lstm.input.slice(1, -1);
          const inDiv_lstm  = document.getElementById("in-lstm");
          const outDiv_lstm = document.getElementById("out-lstm");

          function attColor_lstm(a) {
            const g = Math.round(255 - 180 * a);
            return `rgb(${g},255,${g})`;
          }

          shownInputs_lstm.forEach((ch,i)=> {
            const s=document.createElement("span");
            s.textContent=ch; s.className="tok"; s.id="in-lstm-"+i;
            inDiv_lstm.appendChild(s);
          });

          data_lstm.output.forEach((ch,i)=> {
            const s=document.createElement("span");
            s.textContent=ch; s.className="tok";

            s.onmouseenter=()=> {
              shownInputs_lstm.forEach((_,j)=> {
                const el = document.getElementById("in-lstm-"+j);
                el.style.background = "#eee";
              });
              const att = data_lstm.attentions[i] || [];
              att.forEach((v,j)=> {
                if (v >= threshold_lstm) {
                  document.getElementById("in-lstm-"+j).style.background = attColor_lstm(v);
                }
              });
            };
            s.onmouseleave=()=> {
              shownInputs_lstm.forEach((_,j)=> {
                document.getElementById("in-lstm-"+j).style.background = "#eee";
              });
            };
            outDiv_lstm.appendChild(s);
          });
        </script>
        
        <h3 style='margin-top:30px;'>Model: GRU</h3>
        <div><b>Input:</b> <span id="in-gru"></span></div><br>
        <div><b>Output:</b> <span id="out-gru"></span></div>
        <script>
          const data_gru = {"input": ["<sos>", "s", "i", "t", "a", "r", "a", "m", "a", "y", "y", "a", "<eos>"], "output": ["స", "ి", "ట", "ర", "ా", "మ", "య", "్", "య", "య", "య", "య", "య", "య", "య", "య", "య", "య", "య", "య", "య", "య", "య", "య", "య", "య", "య", "య", "య", "య"], "attentions": [[0.17983625829219818, 0.6239266991615295, 0.14306190609931946, 0.04953592270612717, 0.0009868706110864878, 0.0024427566677331924, 4.007107418146916e-05, 0.00010992566240020096, 1.8424319932819344e-05, 1.8543658370617777e-05, 1.2020050235150848e-05, 4.621801963367034e-06, 5.905700163566507e-06], [0.0784040167927742, 0.03723347187042236, 0.5310105085372925, 0.34112414717674255, 0.0030322675593197346, 0.0076265521347522736, 0.0003130529075860977, 0.0006004471215419471, 0.00011415339395171031, 0.00018959482258651406, 0.00020630413200706244, 7.088418351486325e-05, 7.469710544683039e-05], [0.02676151506602764, 0.007374845445156097, 0.02131149359047413, 0.7532159090042114, 0.062325961887836456, 0.1210704818367958, 0.0035340008325874805, 0.002864029025658965, 0.00048569648060947657, 0.0004198581154923886, 0.0003683749819174409, 0.00014486942382063717, 0.0001229317276738584], [0.00036075280513614416, 0.00014143566659186035, 0.0006550380494445562, 0.013728407211601734, 0.05671824514865875, 0.8714298009872437, 0.013509136624634266, 0.030809570103883743, 0.003327833255752921, 0.0039281114004552364, 0.00320679834112525, 0.0010833855485543609, 0.0011015079217031598], [0.001055501401424408, 4.140413511777297e-05, 0.00018045467732008547, 0.004290450364351273, 0.18142133951187134, 0.1798609048128128, 0.1214546337723732, 0.41724342107772827, 0.04265476018190384, 0.03279918059706688, 0.01486030500382185, 0.0014989236369729042, 0.0026386957615613937], [2.2647374862572178e-05, 1.760058978561574e-07, 1.8905812737557426e-07, 1.347439410892548e-05, 0.0031740309204906225, 0.024220364168286324, 0.069920115172863, 0.38055697083473206, 0.24043534696102142, 0.16099756956100464, 0.10832692682743073, 0.006912434007972479, 0.0054197306744754314], [3.6829790328596346e-09, 1.5897613780957442e-10, 1.6468897426347162e-11, 2.1200943223220747e-09, 3.761596644835663e-06, 0.00021389013272710145, 0.010838969610631466, 0.0937221348285675, 0.16621005535125732, 0.32179969549179077, 0.3882811665534973, 0.010970856994390488, 0.00795947015285492], [2.1026028140802566e-11, 1.0898405441994719e-11, 3.770859059032405e-12, 3.338822968101951e-11, 2.964011480699469e-09, 2.3593466380589234e-07, 0.00015101539611350745, 0.0028260056860744953, 0.07583700120449066, 0.06912752985954285, 0.6232030391693115, 0.17665033042430878, 0.052204784005880356], [1.0236563116258757e-12, 9.786147586732241e-13, 2.6132206207979403e-12, 1.2646263376769884e-11, 2.91946640473828e-11, 5.532995173140876e-10, 1.0002544570397731e-08, 3.875034053635318e-07, 0.00022048897517379373, 0.003738373750820756, 0.310310423374176, 0.4979977607727051, 0.18773253262043], [6.782373057276359e-13, 1.2212358945287716e-12, 1.1130131104958307e-12, 6.265008477279732e-12, 3.9465457811471705e-12, 7.738602814111317e-11, 1.808042271456145e-09, 1.5345774428965342e-08, 3.974390438088449e-06, 0.00018712668679654598, 0.0037305394653230906, 0.01040351577103138, 0.9856747984886169], [1.4298811700647063e-12, 3.828246747383801e-12, 6.85132462915905e-12, 2.110352691209183e-11, 6.201512220416205e-11, 9.199291328698678e-10, 3.1201039529804575e-09, 2.95516677795149e-08, 1.7070196918211877e-06, 0.0002471570624038577, 0.0106887798756361, 0.03938756138086319, 0.9496748447418213], [7.152146062894271e-12, 1.1297926136299985e-11, 2.2968118726374165e-11, 5.888597942593776e-11, 8.351413310903055e-11, 1.0136798067605923e-09, 1.2041051489219967e-09, 9.224349284409072e-09, 2.4075757210084703e-07, 1.120571050705621e-05, 0.0036886956077069044, 0.05919909104704857, 0.9371008276939392], [1.5413127371632918e-11, 2.429871928666394e-11, 5.7518496909825245e-11, 1.0138882788890413e-10, 1.5818756027297098e-10, 1.9505606019265542e-09, 1.7355230585991421e-09, 1.23176038258066e-08, 2.199091397869779e-07, 1.016488386085257e-05, 0.0025375597178936005, 0.04939877614378929, 0.9480531811714172], [2.7876374819602034e-11, 3.458824893165513e-11, 1.104093483306201e-10, 1.5867196445640275e-10, 2.2536267296757728e-10, 2.8243867244981402e-09, 2.2412780520397746e-09, 1.5665312602664017e-08, 2.3690365935635782e-07, 1.0933008525171317e-05, 0.0019161468371748924, 0.043785784393548965, 0.9542868733406067], [3.42368321193387e-11, 3.999020559142252e-11, 1.3960482769803662e-10, 1.9291186703629393e-10, 2.9649535604470145e-10, 3.733207076805911e-09, 2.8703421861564493e-09, 2.1582433618050345e-08, 3.0097143621787836e-07, 1.2800230251741596e-05, 0.0018102671019732952, 0.04733266308903694, 0.950843870639801], [4.418142240947276e-11, 5.068778383132688e-11, 1.8377913080236397e-10, 2.3671456461649143e-10, 3.62389729335888e-10, 4.728755165217535e-09, 3.4549030303310246e-09, 2.5272285597566224e-08, 3.140009141588962e-07, 1.256537507288158e-05, 0.001546837273053825, 0.04459426924586296, 0.9538458585739136], [5.168696026736086e-11, 5.830472910028917e-11, 2.187684061683015e-10, 2.726326941981938e-10, 4.1058842437102783e-10, 5.470597752577078e-09, 3.84807030684442e-09, 2.740265081513371e-08, 3.2195248422794975e-07, 1.2283676369406749e-05, 0.001359147485345602, 0.042413659393787384, 0.9562146067619324], [5.7906020256570656e-11, 6.515318839994677e-11, 2.488684813783948e-10, 3.048095387203631e-10, 4.520164798016424e-10, 6.1677156715234105e-09, 4.193120073381351e-09, 2.9261773448752137e-08, 3.307261806639872e-07, 1.2018844245176297e-05, 0.0012144410284236073, 0.04058972746133804, 0.9581834673881531], [6.458834855838091e-11, 7.250915146084225e-11, 2.825788492089032e-10, 3.402212123138071e-10, 4.961229760347408e-10, 6.918654538168312e-09, 4.559677968529741e-09, 3.120917213550456e-08, 3.4137224247388076e-07, 1.1888168046425562e-05, 0.0010962490923702717, 0.03909130021929741, 0.9598002433776855], [7.196658546870793e-11, 8.069012125133668e-11, 3.2073563249745973e-10, 3.795703196196598e-10, 5.441367911807049e-10, 7.741022933771546e-09, 4.959038513163705e-09, 3.32968532745781e-08, 3.541902628967364e-07, 1.1862983228638768e-05, 0.0010022054193541408, 0.03778894618153572, 0.9611964821815491], [7.989411909825606e-11, 8.965756609358166e-11, 3.628850275827489e-10, 4.220658822440271e-10, 5.959682747302963e-10, 8.619448266244945e-09, 5.3930278021141476e-09, 3.5481331650544234e-08, 3.6828535598942835e-07, 1.1905831343028694e-05, 0.0009275604970753193, 0.03670014813542366, 0.9623599648475647], [8.82129161383638e-11, 9.926731658893573e-11, 4.082675864047758e-10, 4.669664099843374e-10, 6.506550298546188e-10, 9.52966239253783e-09, 5.850129269902027e-09, 3.7692991838866874e-08, 3.827359194019664e-07, 1.1978203474427573e-05, 0.0008664917550049722, 0.035752180963754654, 0.9633688926696777], [9.680634766029428e-11, 1.0941220152105302e-10, 4.562243083316986e-10, 5.136928660220974e-10, 7.076836339159343e-10, 1.0454562549000457e-08, 6.3244289805197695e-09, 3.988890995287875e-08, 3.968509645346785e-07, 1.2063940630469006e-05, 0.0008155591785907745, 0.034923773258924484, 0.9642482995986938], [1.0560197855058462e-10, 1.1998885218744704e-10, 5.061972507824919e-10, 5.617817322445262e-10, 7.665227341746572e-10, 1.1380822506623645e-08, 6.8096834837660936e-09, 4.2040895209538576e-08, 4.102769821656693e-07, 1.2153260286140721e-05, 0.0007723767776042223, 0.03418382257223129, 0.965031087398529], [1.1456047221969357e-10, 1.309312658293038e-10, 5.577773798393082e-10, 6.109253658515001e-10, 8.26911483731152e-10, 1.2301508256484794e-08, 7.3029577940531e-09, 4.413792353830104e-08, 4.2285029167032917e-07, 1.2242343473189976e-05, 0.0007354357512667775, 0.033514637500047684, 0.9657372236251831], [1.2365702906080855e-10, 1.421853884631119e-10, 6.106379846215759e-10, 6.608908975636041e-10, 8.886171243283059e-10, 1.321213449756442e-08, 7.801681967123386e-09, 4.6175433254802556e-08, 4.345268393990409e-07, 1.2329018318268936e-05, 0.0007035919115878642, 0.03289886936545372, 0.9663846492767334], [1.3287794475846937e-10, 1.537083654801208e-10, 6.645456407383676e-10, 7.115188438433506e-10, 9.514802279397827e-10, 1.4110630885966202e-08, 8.304330556541117e-09, 4.815374055056054e-08, 4.453249005109683e-07, 1.2412602700351272e-05, 0.0006759726675227284, 0.03232467547059059, 0.9669864177703857], [1.4221127053737348e-10, 1.6546428116548384e-10, 7.19321435749265e-10, 7.626775322400192e-10, 1.0153369256471478e-09, 1.499604351806738e-08, 8.80943318293248e-09, 5.0074653756837506e-08, 4.5528901182478876e-07, 1.2492753739934415e-05, 0.0006518689915537834, 0.0317821204662323, 0.9675530195236206], [1.5165296796126881e-10, 1.7742644853324663e-10, 7.748560126863424e-10, 8.142879703854078e-10, 1.0800617067374674e-09, 1.586857401036923e-08, 9.316189597541324e-09, 5.194181085244054e-08, 4.6449221713373845e-07, 1.2569962564157322e-05, 0.0006307290750555694, 0.03126462548971176, 0.9680915474891663], [1.611960009917368e-10, 1.8956905489808662e-10, 8.310667154454165e-10, 8.66271832045129e-10, 1.1455199011578543e-09, 1.6728535001675482e-08, 9.823717839196888e-09, 5.375907008442482e-08, 4.730060538804537e-07, 1.2644466551137157e-05, 0.0006120917969383299, 0.030767153948545456, 0.9686075448989868]]};
          const threshold_gru = 0.15;

          const shownInputs_gru = data_gru.input.slice(1, -1);
          const inDiv_gru  = document.getElementById("in-gru");
          const outDiv_gru = document.getElementById("out-gru");

          function attColor_gru(a) {
            const g = Math.round(255 - 180 * a);
            return `rgb(${g},255,${g})`;
          }

          shownInputs_gru.forEach((ch,i)=> {
            const s=document.createElement("span");
            s.textContent=ch; s.className="tok"; s.id="in-gru-"+i;
            inDiv_gru.appendChild(s);
          });

          data_gru.output.forEach((ch,i)=> {
            const s=document.createElement("span");
            s.textContent=ch; s.className="tok";

            s.onmouseenter=()=> {
              shownInputs_gru.forEach((_,j)=> {
                const el = document.getElementById("in-gru-"+j);
                el.style.background = "#eee";
              });
              const att = data_gru.attentions[i] || [];
              att.forEach((v,j)=> {
                if (v >= threshold_gru) {
                  document.getElementById("in-gru-"+j).style.background = attColor_gru(v);
                }
              });
            };
            s.onmouseleave=()=> {
              shownInputs_gru.forEach((_,j)=> {
                document.getElementById("in-gru-"+j).style.background = "#eee";
              });
            };
            outDiv_gru.appendChild(s);
          });
        </script>
        
        <h3 style='margin-top:30px;'>Model: RNN</h3>
        <div><b>Input:</b> <span id="in-rnn"></span></div><br>
        <div><b>Output:</b> <span id="out-rnn"></span></div>
        <script>
          const data_rnn = {"input": ["<sos>", "s", "i", "t", "a", "r", "a", "m", "a", "y", "y", "a", "<eos>"], "output": ["స", "ి", "స", "ి", "ట", "ర", "మ", "య", "్", "య", "ా", "ా", "<eos>"], "attentions": [[0.44395583868026733, 0.39731326699256897, 0.04839079827070236, 0.041513826698064804, 0.004964019171893597, 0.023691251873970032, 0.0027261325158178806, 0.01276824064552784, 0.002676871605217457, 0.009885698556900024, 0.0057583521120250225, 0.0025622739922255278, 0.0037933848798274994], [0.0612356923520565, 0.583994448184967, 0.21326282620429993, 0.12911133468151093, 0.0006806785240769386, 0.0042508747428655624, 0.0005070800543762743, 0.004606955219060183, 0.0002976833493448794, 0.0006624794332310557, 0.0008825703989714384, 0.0002303218498127535, 0.0002770549326669425], [0.00626504747197032, 0.21688438951969147, 0.31693416833877563, 0.3986649811267853, 0.003946133889257908, 0.03594961762428284, 0.0029671930242329836, 0.007240877486765385, 0.001964039634913206, 0.0024275630712509155, 0.0022291853092610836, 0.002597913146018982, 0.0019288770854473114], [0.0011732646962627769, 0.005167029332369566, 0.38038766384124756, 0.3810898959636688, 0.011109523475170135, 0.16952842473983765, 0.005716642364859581, 0.022082636132836342, 0.004311520140618086, 0.006057420279830694, 0.005334323272109032, 0.003925811033695936, 0.004115827847272158], [3.925876444554888e-05, 0.0011838540667667985, 0.15625786781311035, 0.6812681555747986, 0.021873196586966515, 0.09544475376605988, 0.004714638460427523, 0.02361072227358818, 0.002236788161098957, 0.005036523565649986, 0.0031516195740550756, 0.002813714789226651, 0.002368874615058303], [3.654652118711965e-06, 5.261863407213241e-05, 0.010764514096081257, 0.014849775470793247, 0.042223505675792694, 0.7430501580238342, 0.010953432880342007, 0.12758824229240417, 0.003594632726162672, 0.02552870102226734, 0.014399787411093712, 0.0028361135628074408, 0.004154976923018694], [3.6432871297620295e-07, 1.0612069672788493e-05, 0.014672874473035336, 0.00794453825801611, 0.015328869223594666, 0.24332867562770844, 0.014710073359310627, 0.5324608683586121, 0.0042297872714698315, 0.12354744970798492, 0.03498081490397453, 0.002392395166680217, 0.006392607931047678], [1.0536087974299946e-10, 1.8137049639932457e-09, 3.5418001971265767e-06, 9.476265404373407e-05, 8.58743951539509e-05, 0.01461278460919857, 0.007492870092391968, 0.2591346800327301, 0.00841088593006134, 0.46734854578971863, 0.23212561011314392, 0.0020849774591624737, 0.008605525828897953], [1.3971036784063418e-12, 1.0013700806055237e-11, 9.915550158723363e-09, 3.882048815739836e-07, 7.288650181180856e-07, 0.0021765963174402714, 0.0008647265494801104, 0.035898927599191666, 0.01526426337659359, 0.20052701234817505, 0.730254590511322, 0.003335536690428853, 0.011677327565848827], [1.0044200714209861e-13, 3.88009242791032e-12, 3.2947871098087944e-09, 7.811630808873815e-08, 2.9143366830908235e-08, 4.976755371899344e-05, 0.0001002382705337368, 0.024697810411453247, 0.024356145411729813, 0.12325374037027359, 0.732254683971405, 0.042728472501039505, 0.052559029310941696], [1.8889936544228686e-13, 2.589259535945576e-11, 1.8721961758672023e-09, 3.332877085426844e-08, 3.498479017594036e-08, 9.160855370282661e-06, 1.9463484477455495e-06, 0.0012478085700422525, 0.0021997285075485706, 0.10147418826818466, 0.20295001566410065, 0.06216577813029289, 0.6299512982368469], [1.3081678481349085e-13, 1.7937589347899463e-12, 5.4431733426119067e-11, 1.4240741919024913e-09, 2.580190505696578e-09, 1.8633139688972733e-06, 3.282644556179548e-08, 0.0004031715798191726, 0.00014513566566165537, 0.12741021811962128, 0.12728488445281982, 0.009519137442111969, 0.7352355718612671], [4.824858503178764e-13, 7.522342124199888e-12, 1.2736407761781976e-10, 1.7971879540112923e-09, 4.865011060672941e-09, 1.9305366549815517e-06, 3.08664681369919e-07, 0.0004670417692977935, 0.00015478798013646156, 0.02373720146715641, 0.21123048663139343, 0.022375810891389847, 0.7420324087142944]]};
          const threshold_rnn = 0.15;

          const shownInputs_rnn = data_rnn.input.slice(1, -1);
          const inDiv_rnn  = document.getElementById("in-rnn");
          const outDiv_rnn = document.getElementById("out-rnn");

          function attColor_rnn(a) {
            const g = Math.round(255 - 180 * a);
            return `rgb(${g},255,${g})`;
          }

          shownInputs_rnn.forEach((ch,i)=> {
            const s=document.createElement("span");
            s.textContent=ch; s.className="tok"; s.id="in-rnn-"+i;
            inDiv_rnn.appendChild(s);
          });

          data_rnn.output.forEach((ch,i)=> {
            const s=document.createElement("span");
            s.textContent=ch; s.className="tok";

            s.onmouseenter=()=> {
              shownInputs_rnn.forEach((_,j)=> {
                const el = document.getElementById("in-rnn-"+j);
                el.style.background = "#eee";
              });
              const att = data_rnn.attentions[i] || [];
              att.forEach((v,j)=> {
                if (v >= threshold_rnn) {
                  document.getElementById("in-rnn-"+j).style.background = attColor_rnn(v);
                }
              });
            };
            s.onmouseleave=()=> {
              shownInputs_rnn.forEach((_,j)=> {
                document.getElementById("in-rnn-"+j).style.background = "#eee";
              });
            };
            outDiv_rnn.appendChild(s);
          });
        </script>
        
    </body>
    </html>
    