
    <html>
    <head>
    <meta charset="UTF-8">
    <style>
      .tok {padding:4px 6px;margin:2px;border-radius:4px;
             display:inline-block;font-family:monospace;
             background:#eee;cursor:pointer;transition: background 0.15s;}
    </style>
    </head>
    <body>
    <h3>Interactive Attention (hover output → see input focus)</h3>
    <div><b>Input:</b> <span id="in"></span></div><br>
    <div><b>Output:</b> <span id="out"></span></div>
    <script>
      const data = {"input": ["<sos>", "s", "i", "t", "a", "r", "a", "m", "a", "y", "y", "a", "<eos>"], "output": ["స", "ి", "స", "ి", "ట", "ర", "మ", "య", "్", "య", "ా", "ా", "<eos>"], "attentions": [[0.44395583868026733, 0.39731326699256897, 0.04839079827070236, 0.041513826698064804, 0.004964019171893597, 0.023691251873970032, 0.0027261325158178806, 0.01276824064552784, 0.002676871605217457, 0.009885698556900024, 0.0057583521120250225, 0.0025622739922255278, 0.0037933848798274994], [0.0612356923520565, 0.583994448184967, 0.21326282620429993, 0.12911133468151093, 0.0006806785240769386, 0.0042508747428655624, 0.0005070800543762743, 0.004606955219060183, 0.0002976833493448794, 0.0006624794332310557, 0.0008825703989714384, 0.0002303218498127535, 0.0002770549326669425], [0.00626504747197032, 0.21688438951969147, 0.31693416833877563, 0.3986649811267853, 0.003946133889257908, 0.03594961762428284, 0.0029671930242329836, 0.007240877486765385, 0.001964039634913206, 0.0024275630712509155, 0.0022291853092610836, 0.002597913146018982, 0.0019288770854473114], [0.0011732646962627769, 0.005167029332369566, 0.38038766384124756, 0.3810898959636688, 0.011109523475170135, 0.16952842473983765, 0.005716642364859581, 0.022082636132836342, 0.004311520140618086, 0.006057420279830694, 0.005334323272109032, 0.003925811033695936, 0.004115827847272158], [3.925876444554888e-05, 0.0011838540667667985, 0.15625786781311035, 0.6812681555747986, 0.021873196586966515, 0.09544475376605988, 0.004714638460427523, 0.02361072227358818, 0.002236788161098957, 0.005036523565649986, 0.0031516195740550756, 0.002813714789226651, 0.002368874615058303], [3.654652118711965e-06, 5.261863407213241e-05, 0.010764514096081257, 0.014849775470793247, 0.042223505675792694, 0.7430501580238342, 0.010953432880342007, 0.12758824229240417, 0.003594632726162672, 0.02552870102226734, 0.014399787411093712, 0.0028361135628074408, 0.004154976923018694], [3.6432871297620295e-07, 1.0612069672788493e-05, 0.014672874473035336, 0.00794453825801611, 0.015328869223594666, 0.24332867562770844, 0.014710073359310627, 0.5324608683586121, 0.0042297872714698315, 0.12354744970798492, 0.03498081490397453, 0.002392395166680217, 0.006392607931047678], [1.0536087974299946e-10, 1.8137049639932457e-09, 3.5418001971265767e-06, 9.476265404373407e-05, 8.58743951539509e-05, 0.01461278460919857, 0.007492870092391968, 0.2591346800327301, 0.00841088593006134, 0.46734854578971863, 0.23212561011314392, 0.0020849774591624737, 0.008605525828897953], [1.3971036784063418e-12, 1.0013700806055237e-11, 9.915550158723363e-09, 3.882048815739836e-07, 7.288650181180856e-07, 0.0021765963174402714, 0.0008647265494801104, 0.035898927599191666, 0.01526426337659359, 0.20052701234817505, 0.730254590511322, 0.003335536690428853, 0.011677327565848827], [1.0044200714209861e-13, 3.88009242791032e-12, 3.2947871098087944e-09, 7.811630808873815e-08, 2.9143366830908235e-08, 4.976755371899344e-05, 0.0001002382705337368, 0.024697810411453247, 0.024356145411729813, 0.12325374037027359, 0.732254683971405, 0.042728472501039505, 0.052559029310941696], [1.8889936544228686e-13, 2.589259535945576e-11, 1.8721961758672023e-09, 3.332877085426844e-08, 3.498479017594036e-08, 9.160855370282661e-06, 1.9463484477455495e-06, 0.0012478085700422525, 0.0021997285075485706, 0.10147418826818466, 0.20295001566410065, 0.06216577813029289, 0.6299512982368469], [1.3081678481349085e-13, 1.7937589347899463e-12, 5.4431733426119067e-11, 1.4240741919024913e-09, 2.580190505696578e-09, 1.8633139688972733e-06, 3.282644556179548e-08, 0.0004031715798191726, 0.00014513566566165537, 0.12741021811962128, 0.12728488445281982, 0.009519137442111969, 0.7352355718612671], [4.824858503178764e-13, 7.522342124199888e-12, 1.2736407761781976e-10, 1.7971879540112923e-09, 4.865011060672941e-09, 1.9305366549815517e-06, 3.08664681369919e-07, 0.0004670417692977935, 0.00015478798013646156, 0.02373720146715641, 0.21123048663139343, 0.022375810891389847, 0.7420324087142944]]};
      const threshold = 0.15;

      const shownInputs = data.input.slice(1, -1);  // Skip <sos> and <eos>
      const inDiv  = document.getElementById("in");
      const outDiv = document.getElementById("out");

      function attColor(a) {
        const g = Math.round(255 - 180 * a);
        return `rgb(${g},255,${g})`;
      }

      shownInputs.forEach((ch,i)=> {
        const s = document.createElement("span");
        s.textContent = ch;
        s.className = "tok";
        s.id = "in-" + i;
        inDiv.appendChild(s);
      });

      data.output.forEach((ch, i) => {
        const s = document.createElement("span");
        s.textContent = ch;
        s.className = "tok";

        s.onmouseenter = () => {
          shownInputs.forEach((_, j) => {
            const el = document.getElementById("in-" + j);
            el.style.background = "#eee";
          });
          const att = data.attentions[i] || [];
          att.forEach((v, j) => {
            if (v >= threshold) {
              document.getElementById("in-" + j).style.background = attColor(v);
            }
          });
        };

        s.onmouseleave = () => {
          shownInputs.forEach((_, j) => {
            document.getElementById("in-" + j).style.background = "#eee";
          });
        };

        outDiv.appendChild(s);
      });
    </script>
    </body>
    </html>
    