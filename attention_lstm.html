
    <html>
    <head>
    <meta charset="UTF-8">
    <style>
      .tok {padding:4px 6px;margin:2px;border-radius:4px;
             display:inline-block;font-family:monospace;
             background:#eee;cursor:pointer;transition: background 0.15s;}
    </style>
    </head>
    <body>
    <h3>Interactive Attention (hover output → see input focus)</h3>
    <div><b>Input:</b> <span id="in"></span></div><br>
    <div><b>Output:</b> <span id="out"></span></div>
    <script>
      const data = {"input": ["<sos>", "s", "i", "t", "a", "r", "a", "m", "a", "y", "y", "a", "<eos>"], "output": ["స", "ి", "త", "ా", "ర", "ా", "మ", "య", "్", "య", "య", "<eos>"], "attentions": [[0.2061588019132614, 0.1498946249485016, 0.6167385578155518, 0.021718038246035576, 0.0027827415615320206, 0.0012601236812770367, 0.0002578704443294555, 0.00034935949952341616, 0.00022359432477969676, 0.00021561711037065834, 0.00016809100634418428, 0.00010977223428199068, 0.0001228413311764598], [0.006127114407718182, 0.0010109590366482735, 0.31638649106025696, 0.6709998250007629, 0.003468558192253113, 0.0017969331238418818, 4.029076808365062e-05, 7.786895730532706e-05, 3.643134914455004e-05, 2.6856594558921643e-05, 1.4592404113500379e-05, 7.431579888361739e-06, 6.721368663420435e-06], [0.004608373157680035, 0.000533173093572259, 0.0050840056501328945, 0.6961197257041931, 0.20101815462112427, 0.08681540936231613, 0.002482136245816946, 0.0018684471724554896, 0.000712285574991256, 0.0003627653350122273, 0.00015599427570123225, 0.00012664598762057722, 0.00011289486428722739], [0.0007425170042552054, 4.517881461651996e-05, 0.0037608284037560225, 0.12104064226150513, 0.4093838334083557, 0.4328427314758301, 0.007682940922677517, 0.013926716521382332, 0.003750785021111369, 0.0038264773320406675, 0.001268297666683793, 0.0007358265575021505, 0.0009932090761139989], [1.4705011608384666e-07, 1.7490242143480828e-08, 4.962434907440638e-09, 0.0006208451231941581, 0.03187834471464157, 0.37470725178718567, 0.18775597214698792, 0.28130996227264404, 0.07838217914104462, 0.04032829776406288, 0.003582591190934181, 0.0006174959125928581, 0.0008168314816430211], [2.7364147059394384e-10, 5.5950848121266716e-11, 2.5364454460385932e-12, 3.1806937528244816e-08, 0.00022653421910945326, 0.2568660378456116, 0.1596311330795288, 0.3156650960445404, 0.13534805178642273, 0.11579912900924683, 0.013459780253469944, 0.0016093130689114332, 0.001394835184328258], [8.037618059226714e-17, 9.478037952446544e-17, 3.6204481110306793e-17, 1.0534423810701354e-12, 3.293322237141183e-08, 0.00028452122933231294, 0.0030095612164586782, 0.05832158774137497, 0.12115705758333206, 0.7350962162017822, 0.07730719447135925, 0.002495318651199341, 0.0023284226190298796], [5.8155222478755004e-18, 2.1472202494835258e-17, 1.1641008920204968e-18, 5.4377990554421024e-15, 6.987508488487393e-11, 8.11049721960444e-06, 0.0007957351626828313, 0.01800631172955036, 0.0942583754658699, 0.7094225287437439, 0.16703005135059357, 0.004759109579026699, 0.005719815846532583], [5.955198932135439e-20, 1.1395397799834777e-19, 3.2304590150493474e-19, 1.4414930773465566e-17, 2.2129681035787732e-14, 1.2889882494704352e-09, 4.675945547205629e-06, 3.300219032098539e-05, 0.0038478821516036987, 0.05556107684969902, 0.7740734815597534, 0.08764022588729858, 0.07883968949317932], [1.2860880086882591e-19, 1.887873924288863e-19, 4.045100138202742e-18, 2.1848354606587622e-16, 3.499147315216139e-14, 2.4620847027811976e-10, 1.887442664383343e-07, 1.1800793799920939e-06, 8.988536865217611e-05, 0.0013156385393813252, 0.35061585903167725, 0.23795004189014435, 0.4100272059440613], [3.1990817279697383e-19, 3.9258219346435146e-19, 1.0347662401641556e-18, 2.041257420398748e-17, 1.525755683328843e-16, 3.676831449440747e-14, 3.4788478521508015e-12, 8.773879539569762e-11, 5.561184845959133e-09, 4.815352667719708e-07, 8.663800690555945e-05, 0.023303890600800514, 0.97660893201828], [1.42703793070607e-18, 1.4830527406317827e-18, 9.096452256686442e-18, 2.3776471586290347e-16, 1.7833944973458075e-14, 4.100055527294505e-13, 4.800473213384393e-11, 2.357208594983007e-10, 4.2235726027683995e-08, 2.4326052425749367e-06, 0.0007042098441161215, 0.01221700944006443, 0.9870763421058655]]};
      const threshold = 0.15;

      const shownInputs = data.input.slice(1, -1);  // Skip <sos> and <eos>
      const inDiv  = document.getElementById("in");
      const outDiv = document.getElementById("out");

      function attColor(a) {
        const g = Math.round(255 - 180 * a);
        return `rgb(${g},255,${g})`;
      }

      shownInputs.forEach((ch,i)=> {
        const s = document.createElement("span");
        s.textContent = ch;
        s.className = "tok";
        s.id = "in-" + i;
        inDiv.appendChild(s);
      });

      data.output.forEach((ch, i) => {
        const s = document.createElement("span");
        s.textContent = ch;
        s.className = "tok";

        s.onmouseenter = () => {
          shownInputs.forEach((_, j) => {
            const el = document.getElementById("in-" + j);
            el.style.background = "#eee";
          });
          const att = data.attentions[i] || [];
          att.forEach((v, j) => {
            if (v >= threshold) {
              document.getElementById("in-" + j).style.background = attColor(v);
            }
          });
        };

        s.onmouseleave = () => {
          shownInputs.forEach((_, j) => {
            document.getElementById("in-" + j).style.background = "#eee";
          });
        };

        outDiv.appendChild(s);
      });
    </script>
    </body>
    </html>
    